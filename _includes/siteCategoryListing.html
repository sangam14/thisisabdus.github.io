<!-- CODE TAKEN FROM https://gist.github.com/Phlow/a0e3fa686eb259fe7f76 -->
{% assign categories_list = site.categories %}
{% if categories_list.first[0] == null %}
    {% for category in categories_list %}
        <a class="nav-btn" href="{{ '/categories/' | append: category | downcase | downcase | url_escape | strip | replace: ' ', '-'  | relative_url }}">{{ category | camelcase }} <span class="category-post-count">{{ site.tags[category].size }}</span></a>
    {% endfor %}
{% else %}
    {% for category in categories_list %}
        <a class="nav-btn" href="{{ '/categories/' | append: category[0] | downcase | url_escape | strip | replace: ' ', '-' | relative_url }}">{{ category[0] | camelcase }} <span class="category-post-count">{{ category[1].size }}</span></a>
    {% endfor %}
{% endif %}